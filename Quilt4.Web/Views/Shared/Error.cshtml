@using Tharga.Quilt4Net
@model HandleErrorInfo
@{
    ViewBag.Title = "Error";
}
<hgroup class="title">
    <h1 class="error">Error.</h1>
    <h2 class="error">An error occurred while processing your request.</h2>
</hgroup>
@{
    try
    {
        var response = Issue.Register(Model.Exception, Issue.ExceptionIssueLevel.Error, true, User.Identity.Name);
        <p>Issue Type Ticket: @Html.Raw(response.IssueTypeTicket)</p>
        <p>Issue Instance Ticket: @Html.Raw(response.IssueInstanceTicket)</p>
    }
    catch (Exception exception)
    {
        <p>Could not logg issue in quilt4net due to the following error. @Html.Raw(exception.Message)</p>
        if (exception.InnerException != null)
        {
            <p>Inner exception is: @Html.Raw(exception.InnerException.Message)</p>
        }
    }
}