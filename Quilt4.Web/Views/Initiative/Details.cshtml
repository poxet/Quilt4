@using Quilt4.Web.Extensions
@model Quilt4.Web.Models.InitiativeDetailsModel

@{
    ViewBag.Title = "Details";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<h2>Details</h2>

@Html.ActionLink("Members", "Member", new { initiativeId = @Model.Initiative.Id }, null)
<br/>

<h3>Applications</h3>
@{
    var applications = Model.Initiative.ApplicationGroups.SelectMany(x => x.Applications).ToArray();
}


@if (Model == null || !applications.Any())
{ 
    @Html.Raw("No applications found!")
}
else
{
    foreach (var application in applications)
    {        
        @Html.ActionLink(@application.Name, "Details", "Application", new { id = @Model.Initiative.GetUniqueIdentifier(@Model.AllInitiativeNames), application = Url.Encode(@application.Name) }, null)
        <br/>
    }
}






